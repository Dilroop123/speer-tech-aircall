{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dilroopsingh/Desktop/canatrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dilroopsingh/Desktop/canatrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dilroopsingh/Desktop/canatrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";// reactstrap components\nimport{DropdownMenu,DropdownItem,UncontrolledDropdown,DropdownToggle,Form,FormGroup,InputGroupAddon,InputGroupText,Input,InputGroup,Navbar,Nav,Container,Media}from\"reactstrap\";import baseUrl from\".././../assets/constants/baseUrl\";import placeholder from\"../../assets/img/icons/common/placeholder.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AdminNavbar=function AdminNavbar(props){var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),avatar=_React$useState2[0],setAvatar=_React$useState2[1];var userId=localStorage.getItem(\"pk\");var token=localStorage.getItem(\"token\");var username=localStorage.getItem(\"username\");React.useEffect(function(){var isMounted=true;_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(baseUrl.url,\"assets/\").concat(userId,\"/?key=avatar\"),{headers:{Authorization:\"Token \".concat(token)}});case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setAvatar(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}))();return function(){isMounted=false;};},[]);var logOut=function logOut(){window.localStorage.removeItem(\"token\");window.localStorage.removeItem(\"pk\");window.localStorage.removeItem(\"username\");props.history.push(\"/auth\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Navbar,{className:\"navbar-top navbar-dark\",expand:\"md\",id:\"navbar-main\",children:/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(Link,{className:\"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block\",to:\"/\",children:props.brandText}),/*#__PURE__*/_jsx(Nav,{className:\"align-items-center d-none d-md-flex\",navbar:true,children:/*#__PURE__*/_jsxs(UncontrolledDropdown,{nav:true,children:[/*#__PURE__*/_jsx(DropdownToggle,{className:\"pr-0\",nav:true,children:/*#__PURE__*/_jsxs(Media,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"avatar avatar-sm rounded-circle\",children:/*#__PURE__*/_jsx(\"img\",{height:40,width:40,src:avatar,onError:function onError(e){return e.currentTarget.src=placeholder;}})}),/*#__PURE__*/_jsx(Media,{className:\"ml-2 d-none d-lg-block\",children:/*#__PURE__*/_jsx(\"span\",{className:\"mb-0 text-sm font-weight-bold\",children:username})})]})}),/*#__PURE__*/_jsxs(DropdownMenu,{className:\"dropdown-menu-arrow\",right:true,children:[/*#__PURE__*/_jsx(DropdownItem,{className:\"noti-title\",header:true,tag:\"div\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"text-overflow m-0\",children:\"Welcome!\"})}),/*#__PURE__*/_jsx(DropdownItem,{divider:true}),/*#__PURE__*/_jsxs(DropdownItem,{to:\"/admin/user-profile\",tag:Link,children:[/*#__PURE__*/_jsx(\"i\",{className:\"ni ni-single-02\"}),/*#__PURE__*/_jsx(\"span\",{children:\"My Profile\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{to:\"/admin/documents\",tag:Link,children:[/*#__PURE__*/_jsx(\"i\",{className:\"ni ni-single-02\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Documents\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{to:\"/admin/results\",tag:Link,children:[/*#__PURE__*/_jsx(\"i\",{className:\"ni ni-single-02\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Test Results\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{href:\"#pablo\",onClick:function onClick(){return logOut();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"ni ni-user-run\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})]})]})})]})})});};export default AdminNavbar;","map":{"version":3,"sources":["/Users/dilroopsingh/Desktop/canatrace/src/components/Navbars/AdminNavbar.js"],"names":["React","axios","Link","DropdownMenu","DropdownItem","UncontrolledDropdown","DropdownToggle","Form","FormGroup","InputGroupAddon","InputGroupText","Input","InputGroup","Navbar","Nav","Container","Media","baseUrl","placeholder","AdminNavbar","props","useState","avatar","setAvatar","userId","localStorage","getItem","token","username","useEffect","isMounted","get","url","headers","Authorization","data","console","error","logOut","window","removeItem","history","push","brandText","e","currentTarget","src"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n// reactstrap components\nimport {\n  DropdownMenu,\n  DropdownItem,\n  UncontrolledDropdown,\n  DropdownToggle,\n  Form,\n  FormGroup,\n  InputGroupAddon,\n  InputGroupText,\n  Input,\n  InputGroup,\n  Navbar,\n  Nav,\n  Container,\n  Media,\n} from \"reactstrap\";\nimport baseUrl from \".././../assets/constants/baseUrl\";\nimport placeholder from \"../../assets/img/icons/common/placeholder.png\";\n\nconst AdminNavbar = (props) => {\n  const [avatar, setAvatar] = React.useState();\n\n  const userId = localStorage.getItem(\"pk\");\n  const token = localStorage.getItem(\"token\");\n  const username = localStorage.getItem(\"username\");\n\n  React.useEffect(() => {\n    let isMounted = true;\n    (async () => {\n      // if (!profile.pk || !profile.token) return;\n\n      try {\n        const { data } = await axios.get(\n          `${baseUrl.url}assets/${userId}/?key=avatar`,\n          {\n            headers: {\n              Authorization: `Token ${token}`,\n            },\n          }\n        );\n        setAvatar(data);\n      } catch (e) {\n        console.error(e);\n      }\n    })();\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  const logOut = () => {\n    window.localStorage.removeItem(\"token\");\n    window.localStorage.removeItem(\"pk\");\n    window.localStorage.removeItem(\"username\");\n    props.history.push(\"/auth\");\n  };\n\n  return (\n    <>\n      <Navbar className=\"navbar-top navbar-dark\" expand=\"md\" id=\"navbar-main\">\n        <Container fluid>\n          <Link\n            className=\"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block\"\n            to=\"/\"\n          >\n            {props.brandText}\n          </Link>\n          {/* <Form className=\"navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto\">\n            <FormGroup className=\"mb-0\">\n              <InputGroup className=\"input-group-alternative\">\n                <InputGroupAddon addonType=\"prepend\">\n                  <InputGroupText>\n                    <i className=\"fas fa-search\" />\n                  </InputGroupText>\n                </InputGroupAddon>\n                <Input placeholder=\"Search\" type=\"text\" />\n              </InputGroup>\n            </FormGroup>\n          </Form> */}\n          <Nav className=\"align-items-center d-none d-md-flex\" navbar>\n            <UncontrolledDropdown nav>\n              <DropdownToggle className=\"pr-0\" nav>\n                <Media className=\"align-items-center\">\n                  <span className=\"avatar avatar-sm rounded-circle\">\n                    <img\n                      height={40}\n                      width={40}\n                      src={avatar}\n                      onError={(e) => (e.currentTarget.src = placeholder)}\n                    />\n                  </span>\n                  <Media className=\"ml-2 d-none d-lg-block\">\n                    <span className=\"mb-0 text-sm font-weight-bold\">\n                      {username}\n                    </span>\n                  </Media>\n                </Media>\n              </DropdownToggle>\n              <DropdownMenu className=\"dropdown-menu-arrow\" right>\n                <DropdownItem className=\"noti-title\" header tag=\"div\">\n                  <h6 className=\"text-overflow m-0\">Welcome!</h6>\n                </DropdownItem>\n                <DropdownItem divider />\n                <DropdownItem to=\"/admin/user-profile\" tag={Link}>\n                  <i className=\"ni ni-single-02\" />\n                  <span>My Profile</span>\n                </DropdownItem>\n                <DropdownItem to=\"/admin/documents\" tag={Link}>\n                  <i className=\"ni ni-single-02\" />\n                  <span>Documents</span>\n                </DropdownItem>\n                <DropdownItem to=\"/admin/results\" tag={Link}>\n                  <i className=\"ni ni-single-02\" />\n                  <span>Test Results</span>\n                </DropdownItem>\n                <DropdownItem href=\"#pablo\" onClick={() => logOut()}>\n                  <i className=\"ni ni-user-run\" />\n                  <span>Logout</span>\n                </DropdownItem>\n              </DropdownMenu>\n            </UncontrolledDropdown>\n          </Nav>\n        </Container>\n      </Navbar>\n    </>\n  );\n};\n\nexport default AdminNavbar;\n"]},"metadata":{},"sourceType":"module"}