{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dilroopsingh/Desktop/canatrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dilroopsingh/Desktop/canatrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dilroopsingh/Desktop/canatrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Document,Page,pdfjs}from'react-pdf';import axios from\"axios\";import{Button,Card,CardHeader,CardBody,FormGroup,Form,Input,Table,Container,Row,Col,Modal,ModalHeader,ModalBody,ModalFooter}from\"reactstrap\";import baseUrl from\"../../assets/constants/baseUrl\";import pdfImage from\"../../assets/img/icons/common/pdf.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";pdfjs.GlobalWorkerOptions.workerSrc=\"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs.version,\"/pdf.worker.js\");var Documents=function Documents(){var _selectedDocument$fil,_selectedDocument$fil2,_selectedDocument$fil3;var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),selectedDocument=_React$useState2[0],setSelectedDocument=_React$useState2[1];var isDocumentModalOpen=!!selectedDocument;var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),documents=_React$useState4[0],setDocuments=_React$useState4[1];var userId=localStorage.getItem(\"pk\");var getDocumentList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios({method:\"get\",url:\"\".concat(baseUrl.url,\"wallet_files/?userId=\").concat(userId)}).then(function(response){setDocuments(response.data.results);}).catch(function(thrown){if(axios.isCancel(thrown)){console.error(\"Request canceled\",thrown.message);}else{console.error(thrown.message);}});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function getDocumentList(){return _ref.apply(this,arguments);};}();React.useEffect(function(){getDocumentList();},[]);var onUpload=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var formData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formData=new FormData();//Adding files to the formdata\nformData.append(\"file\",e.target.files[0]);formData.append(\"name\",\"fileName\");formData.append(\"userId\",userId);_context2.next=6;return axios({// Endpoint to send files\nurl:\"\".concat(baseUrl.url,\"wallet_files/\"),method:\"POST\",// Attaching the form data\ndata:formData}).then(function(res){console.log(res);})// Handle the response from backend here\n.catch(function(err){console.log(err);});case 6:getDocumentList();case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function onUpload(_x){return _ref2.apply(this,arguments);};}();var onDeletePress=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var response,resData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(baseUrl.url,\"wallet_files/\").concat(id,\"/\"),{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({status:false})});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:resData=_context3.sent;setDocuments(documents===null||documents===void 0?void 0:documents.filter(function(doc){return doc.id!=id;}));case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function onDeletePress(_x2){return _ref3.apply(this,arguments);};}();var showDeleteAlert=function showDeleteAlert(id){var answer=window.confirm(\"Save data?\");if(answer){onDeletePress(id);}else{console.log(\"no\");}};var TableBody=function TableBody(){return documents===null||documents===void 0?void 0:documents.map(function(item,i){var _item$file,_item$file2;var splitByDot=item===null||item===void 0?void 0:(_item$file=item.file)===null||_item$file===void 0?void 0:_item$file.split(\"/\");var name=splitByDot===null||splitByDot===void 0?void 0:splitByDot.slice(-1)[0];return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:/*#__PURE__*/_jsx(\"img\",{src:(item===null||item===void 0?void 0:(_item$file2=item.file)===null||_item$file2===void 0?void 0:_item$file2.split(\".\").pop())===\"pdf\"?pdfImage:item===null||item===void 0?void 0:item.file,height:30,width:30})}),/*#__PURE__*/_jsx(\"td\",{children:name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return setSelectedDocument(item);},children:\"Open\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return showDeleteAlert(item===null||item===void 0?void 0:item.id);},href:\"javascript:void(0)\",className:\"delete\",children:\"Delete\"})})]},item===null||item===void 0?void 0:item.id);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Container,{style:{maxWidth:\"none\"},children:[/*#__PURE__*/_jsxs(Modal,{isOpen:isDocumentModalOpen,toggle:function toggle(){return setSelectedDocument('');},children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:function toggle(){return setSelectedDocument('');},children:selectedDocument===null||selectedDocument===void 0?void 0:(_selectedDocument$fil=selectedDocument.file)===null||_selectedDocument$fil===void 0?void 0:(_selectedDocument$fil2=_selectedDocument$fil.split(\"/\"))===null||_selectedDocument$fil2===void 0?void 0:_selectedDocument$fil2.slice(-1)[0]}),/*#__PURE__*/_jsx(ModalBody,{children:!!selectedDocument&&(selectedDocument===null||selectedDocument===void 0?void 0:(_selectedDocument$fil3=selectedDocument.file)===null||_selectedDocument$fil3===void 0?void 0:_selectedDocument$fil3.split('.').pop())==='pdf'?/*#__PURE__*/_jsx(\"object\",{width:\"100%\",height:\"400\",data:selectedDocument===null||selectedDocument===void 0?void 0:selectedDocument.file,type:\"application/pdf\"}):/*#__PURE__*/_jsx(\"img\",{resizeMode:\"contain\",src:selectedDocument===null||selectedDocument===void 0?void 0:selectedDocument.file,height:\"400\",width:\"400\"})}),/*#__PURE__*/_jsx(ModalFooter,{children:/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:function onClick(){return setSelectedDocument('');},children:\"Okay\"})})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:100,backgroundColor:\"blue\",marginBottom:50,borderRadius:15,marginTop:10}}),/*#__PURE__*/_jsx(Col,{className:\"mb-5 mb-xl-0\",xl:\"8\",children:/*#__PURE__*/_jsxs(Card,{className:\"shadow\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"border-0\",children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:\"Upload Documents\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-right\",children:/*#__PURE__*/_jsx(Input,{className:\"form-control-alternative\",onChange:onUpload,type:\"file\",accept:\"image/*,application/pdf\"})})]})}),/*#__PURE__*/_jsxs(Table,{className:\"align-items-center table-flush\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Preview\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"File name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Open\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:TableBody()})]})]})})]})});};export default Documents;","map":{"version":3,"sources":["/Users/dilroopsingh/Desktop/canatrace/src/views/examples/Documents.js"],"names":["React","Document","Page","pdfjs","axios","Button","Card","CardHeader","CardBody","FormGroup","Form","Input","Table","Container","Row","Col","Modal","ModalHeader","ModalBody","ModalFooter","baseUrl","pdfImage","GlobalWorkerOptions","workerSrc","version","Documents","useState","selectedDocument","setSelectedDocument","isDocumentModalOpen","documents","setDocuments","userId","localStorage","getItem","getDocumentList","method","url","then","response","data","results","catch","thrown","isCancel","console","error","message","useEffect","onUpload","e","formData","FormData","append","target","files","res","log","err","onDeletePress","id","fetch","headers","body","JSON","stringify","status","json","resData","filter","doc","showDeleteAlert","answer","window","confirm","TableBody","map","item","i","splitByDot","file","split","name","slice","pop","maxWidth","height","backgroundColor","marginBottom","borderRadius","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { Document, Page, pdfjs } from 'react-pdf';\n\nimport axios from \"axios\";\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  FormGroup,\n  Form,\n  Input,\n  Table,\n  Container,\n  Row,\n  Col,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter\n} from \"reactstrap\";\n\nimport baseUrl from \"../../assets/constants/baseUrl\";\n\nimport pdfImage from \"../../assets/img/icons/common/pdf.png\";\n\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n\nconst Documents = () => {\n\n  const [selectedDocument, setSelectedDocument] = React.useState();\n\n  const isDocumentModalOpen = !!selectedDocument\n\n  const [documents, setDocuments] = React.useState();\n  const userId = localStorage.getItem(\"pk\");\n  const getDocumentList = async () => {\n    try {\n      await axios({\n        method: \"get\",\n\n        url: `${baseUrl.url}wallet_files/?userId=${userId}`,\n      })\n        .then(function (response) {\n          setDocuments(response.data.results);\n        })\n        .catch(function (thrown) {\n          if (axios.isCancel(thrown)) {\n            console.error(\"Request canceled\", thrown.message);\n          } else {\n            console.error(thrown.message);\n          }\n        });\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  React.useEffect(() => {\n    getDocumentList();\n  }, []);\n\n  const onUpload = async (e) => {\n    let formData = new FormData();\n\n    //Adding files to the formdata\n    formData.append(\"file\", e.target.files[0]);\n    formData.append(\"name\", \"fileName\");\n    formData.append(\"userId\", userId);\n\n    await axios({\n      // Endpoint to send files\n      url: `${baseUrl.url}wallet_files/`,\n      method: \"POST\",\n\n      // Attaching the form data\n      data: formData,\n    })\n      .then((res) => {\n        console.log(res);\n      }) // Handle the response from backend here\n      .catch((err) => {\n        console.log(err);\n      });\n    getDocumentList();\n  };\n\n  const onDeletePress = async (id) => {\n    const response = await fetch(`${baseUrl.url}wallet_files/${id}/`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        status: false,\n      }),\n    });\n\n    const resData = await response.json();\n    setDocuments(documents?.filter((doc) => doc.id != id));\n  };\n\n  const showDeleteAlert = (id) => {\n    var answer = window.confirm(\"Save data?\");\n    if (answer) {\n      onDeletePress(id);\n    } else {\n      console.log(\"no\");\n    }\n  };\n\n  const TableBody = () => {\n    return documents?.map(function (item, i) {\n      var splitByDot = item?.file?.split(\"/\");\n      var name = splitByDot?.slice(-1)[0];\n\n      return (\n        <tr key={item?.id}>\n          <th scope=\"row\">\n            <img\n              src={\n                item?.file?.split(\".\").pop() === \"pdf\" ? pdfImage : item?.file\n              }\n              height={30}\n              width={30}\n            />\n          </th>\n          <td>{name}</td>\n          <td>\n            <Button onClick={() => setSelectedDocument(item)}>\n              Open\n            </Button>\n          </td>\n          <td>\n            <Button\n              onClick={() => showDeleteAlert(item?.id)}\n              href=\"javascript:void(0)\"\n              className=\"delete\"\n            >\n              Delete\n            </Button>\n          </td>\n        </tr>\n      );\n    });\n  };\n\n  return (\n    <>\n      {/* Page content */}\n      <Container style={{maxWidth: \"none\"}}>\n        <Modal isOpen={isDocumentModalOpen} toggle={() => setSelectedDocument('')}>\n          <ModalHeader toggle={() => setSelectedDocument('')}>\n            {selectedDocument?.file?.split(\"/\")?.slice(-1)[0]}\n          </ModalHeader>\n          <ModalBody>\n            {!!selectedDocument &&\n              selectedDocument?.file?.split('.').pop() === 'pdf' ? (\n            <object\n              width=\"100%\"\n              height=\"400\"\n              data={selectedDocument?.file}\n              type=\"application/pdf\"\n            ></object>\n          ) : (\n            <img\n              resizeMode=\"contain\"\n              src={selectedDocument?.file}\n              height=\"400\"\n              width=\"400\"\n            />\n          )}\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={() => setSelectedDocument('')}>Okay</Button>\n          </ModalFooter>\n        </Modal>\n        <div\n          style={{\n            height: 100,\n            backgroundColor: \"blue\",\n            marginBottom: 50,\n            borderRadius: 15,\n            marginTop: 10,\n          }}\n        ></div>\n        <Col className=\"mb-5 mb-xl-0\" xl=\"8\">\n          <Card className=\"shadow\">\n            <CardHeader className=\"border-0\">\n              <Row className=\"align-items-center\">\n                <div className=\"col\">\n                  <h3 className=\"mb-0\">Upload Documents</h3>\n                </div>\n                <div className=\"col text-right\">\n                  <Input\n                    className=\"form-control-alternative\"\n                    onChange={onUpload}\n                    type=\"file\"\n                    accept=\"image/*,application/pdf\"\n                  />\n                </div>\n              </Row>\n            </CardHeader>\n            <Table className=\"align-items-center table-flush\" responsive>\n              <thead className=\"thead-light\">\n                <tr>\n                  <th scope=\"col\">Preview</th>\n                  <th scope=\"col\">File name</th>\n                  <th scope=\"col\">Open</th>\n                  <th scope=\"col\">Delete</th>\n                </tr>\n              </thead>\n              <tbody>{TableBody()}</tbody>\n            </Table>\n          </Card>\n        </Col>\n      </Container>\n    </>\n  );\n};\n\nexport default Documents;\n"]},"metadata":{},"sourceType":"module"}