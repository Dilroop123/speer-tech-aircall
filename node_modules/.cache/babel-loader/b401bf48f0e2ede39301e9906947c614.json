{"ast":null,"code":"import _objectSpread from\"/Users/dilroopsingh/Desktop/canatrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/dilroopsingh/Desktop/canatrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dilroopsingh/Desktop/canatrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dilroopsingh/Desktop/canatrace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*!\n\n=========================================================\n\n*/ /*eslint-disable*/import{useState,useEffect}from\"react\";import axios from\"axios\";import{NavLink as NavLinkRRD,Link}from\"react-router-dom\";// nodejs library to set properties for components\n// reactstrap components\nimport{Button,Card,CardHeader,CardBody,CardTitle,Collapse,DropdownMenu,DropdownItem,UncontrolledDropdown,DropdownToggle,FormGroup,Form,Input,InputGroupAddon,InputGroupText,InputGroup,Media,NavbarBrand,Navbar,NavItem,NavLink,Nav,Progress,Table,Container,Row,Col}from\"reactstrap\";import baseUrl from\".././../assets/constants/baseUrl\";import placeholder from\"../../assets/img/icons/common/placeholder.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ps;var Sidebar=function Sidebar(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),collapseOpen=_useState2[0],setCollapseOpen=_useState2[1];// verifies if routeName is the one active (in browser input)\nvar activeRoute=function activeRoute(routeName){return props.location.pathname.indexOf(routeName)>-1?\"active\":\"\";};// toggles collapse between opened and closed (true/false)\nvar toggleCollapse=function toggleCollapse(){setCollapseOpen(function(data){return!data;});};// closes the collapse\nvar closeCollapse=function closeCollapse(){setCollapseOpen(false);};// creates the links that appear in the left menu / Sidebar\nvar createLinks=function createLinks(routes){return routes.map(function(prop,key){return/*#__PURE__*/_jsx(NavItem,{children:/*#__PURE__*/_jsxs(NavLink,{to:prop.layout+prop.path,tag:NavLinkRRD,onClick:closeCollapse,activeClassName:\"active\",children:[/*#__PURE__*/_jsx(\"i\",{className:prop.icon}),prop.name]})},key);});};var bgColor=props.bgColor,routes=props.routes,logo=props.logo;var navbarBrandProps;if(logo&&logo.innerLink){navbarBrandProps={to:logo.innerLink,tag:Link};}else if(logo&&logo.outterLink){navbarBrandProps={href:logo.outterLink,target:\"_blank\"};}var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),avatar=_useState4[0],setAvatar=_useState4[1];// stores avatar, defaults to placeholder if none exists for current user\nvar userId=localStorage.getItem(\"pk\");var token=localStorage.getItem(\"token\");var username=localStorage.getItem(\"username\");useEffect(function(){var isMounted=true;_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(baseUrl.url,\"assets/\").concat(userId,\"/?key=avatar\"),{headers:{Authorization:\"Token \".concat(token)}});case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setAvatar(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}))();return function(){isMounted=false;};},[]);var logOut=function logOut(){window.localStorage.removeItem(\"token\");window.localStorage.removeItem(\"pk\");window.localStorage.removeItem(\"username\");props.history.push(\"/auth\");};return/*#__PURE__*/_jsx(Navbar,{className:\"navbar-vertical fixed-left navbar-light bg-white\",expand:\"md\",id:\"sidenav-main\",children:/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",onClick:toggleCollapse,children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),logo?/*#__PURE__*/_jsx(NavbarBrand,_objectSpread(_objectSpread({className:\"pt-0\"},navbarBrandProps),{},{children:/*#__PURE__*/_jsx(\"img\",{alt:logo.imgAlt,className:\"navbar-brand-img\",src:logo.imgSrc,style:{height:\"200px\",width:\"100px\"}})})):null,/*#__PURE__*/_jsxs(Nav,{className:\"align-items-center d-md-none\",children:[/*#__PURE__*/_jsxs(UncontrolledDropdown,{nav:true,children:[/*#__PURE__*/_jsx(DropdownToggle,{nav:true,className:\"nav-link-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"ni ni-bell-55\"})}),/*#__PURE__*/_jsxs(DropdownMenu,{\"aria-labelledby\":\"navbar-default_dropdown_1\",className:\"dropdown-menu-arrow\",right:true,children:[/*#__PURE__*/_jsx(DropdownItem,{children:\"Action\"}),/*#__PURE__*/_jsx(DropdownItem,{children:\"Another action\"}),/*#__PURE__*/_jsx(DropdownItem,{divider:true}),/*#__PURE__*/_jsx(DropdownItem,{children:\"Something else here\"})]})]}),/*#__PURE__*/_jsxs(UncontrolledDropdown,{nav:true,children:[/*#__PURE__*/_jsx(DropdownToggle,{nav:true,children:/*#__PURE__*/_jsx(Media,{className:\"align-items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"avatar avatar-sm rounded-circle\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"...\",src:avatar,onError:function onError(e){return e.currentTarget.src=placeholder;}})})})}),/*#__PURE__*/_jsxs(DropdownMenu,{className:\"dropdown-menu-arrow\",right:true,children:[/*#__PURE__*/_jsx(DropdownItem,{className:\"noti-title\",header:true,tag:\"div\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"text-overflow m-0\",children:\"Welcome!\"})}),/*#__PURE__*/_jsx(DropdownItem,{divider:true}),/*#__PURE__*/_jsxs(DropdownItem,{to:\"/admin/user-profile\",tag:Link,children:[/*#__PURE__*/_jsx(\"i\",{className:\"ni ni-single-02\"}),/*#__PURE__*/_jsx(\"span\",{children:\"My Profile\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{to:\"/admin/documents\",tag:Link,children:[/*#__PURE__*/_jsx(\"i\",{className:\"ni ni-single-02\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Documents\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{to:\"/admin/results\",tag:Link,children:[/*#__PURE__*/_jsx(\"i\",{className:\"ni ni-single-02\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Test Results\"})]}),/*#__PURE__*/_jsxs(DropdownItem,{href:\"#pablo\",onClick:function onClick(){return logOut();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"ni ni-user-run\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})]})]})]}),/*#__PURE__*/_jsxs(Collapse,{navbar:true,isOpen:collapseOpen,children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-collapse-header d-md-none\",children:/*#__PURE__*/_jsxs(Row,{children:[logo?/*#__PURE__*/_jsx(Col,{className:\"collapse-brand\",xs:\"6\",children:logo.innerLink?/*#__PURE__*/_jsx(Link,{to:logo.innerLink,children:/*#__PURE__*/_jsx(\"img\",{alt:logo.imgAlt,src:logo.imgSrc})}):/*#__PURE__*/_jsx(\"a\",{href:logo.outterLink,children:/*#__PURE__*/_jsx(\"img\",{alt:logo.imgAlt,src:logo.imgSrc})})}):null,/*#__PURE__*/_jsx(Col,{className:\"collapse-close\",xs:\"6\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"navbar-toggler\",type:\"button\",onClick:toggleCollapse,children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})})]})}),/*#__PURE__*/_jsx(Form,{className:\"mt-4 mb-3 d-md-none\",children:/*#__PURE__*/_jsxs(InputGroup,{className:\"input-group-rounded input-group-merge\",children:[/*#__PURE__*/_jsx(Input,{\"aria-label\":\"Search\",className:\"form-control-rounded form-control-prepended\",placeholder:\"Search\",type:\"search\"}),/*#__PURE__*/_jsx(InputGroupAddon,{addonType:\"prepend\",children:/*#__PURE__*/_jsx(InputGroupText,{children:/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-search\"})})})]})}),/*#__PURE__*/_jsx(Nav,{navbar:true,children:createLinks(routes)}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-3\"})]})]})});};Sidebar.defaultProps={routes:[{}]};export default Sidebar;","map":{"version":3,"sources":["/Users/dilroopsingh/Desktop/canatrace/src/components/Sidebar/Sidebar.js"],"names":["useState","useEffect","axios","NavLink","NavLinkRRD","Link","Button","Card","CardHeader","CardBody","CardTitle","Collapse","DropdownMenu","DropdownItem","UncontrolledDropdown","DropdownToggle","FormGroup","Form","Input","InputGroupAddon","InputGroupText","InputGroup","Media","NavbarBrand","Navbar","NavItem","Nav","Progress","Table","Container","Row","Col","baseUrl","placeholder","ps","Sidebar","props","collapseOpen","setCollapseOpen","activeRoute","routeName","location","pathname","indexOf","toggleCollapse","data","closeCollapse","createLinks","routes","map","prop","key","layout","path","icon","name","bgColor","logo","navbarBrandProps","innerLink","to","tag","outterLink","href","target","avatar","setAvatar","userId","localStorage","getItem","token","username","isMounted","get","url","headers","Authorization","console","error","logOut","window","removeItem","history","push","imgAlt","imgSrc","height","width","e","currentTarget","src","defaultProps"],"mappings":"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","sourcesContent":["/*!\n\n=========================================================\n\n*/\n/*eslint-disable*/\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { NavLink as NavLinkRRD, Link } from \"react-router-dom\";\n// nodejs library to set properties for components\nimport { PropTypes } from \"prop-types\";\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  CardTitle,\n  Collapse,\n  DropdownMenu,\n  DropdownItem,\n  UncontrolledDropdown,\n  DropdownToggle,\n  FormGroup,\n  Form,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroup,\n  Media,\n  NavbarBrand,\n  Navbar,\n  NavItem,\n  NavLink,\n  Nav,\n  Progress,\n  Table,\n  Container,\n  Row,\n  Col,\n} from \"reactstrap\";\nimport baseUrl from \".././../assets/constants/baseUrl\";\nimport placeholder from \"../../assets/img/icons/common/placeholder.png\";\n\nvar ps;\n\nconst Sidebar = (props) => {\n  const [collapseOpen, setCollapseOpen] = useState();\n  // verifies if routeName is the one active (in browser input)\n  const activeRoute = (routeName) => {\n    return props.location.pathname.indexOf(routeName) > -1 ? \"active\" : \"\";\n  };\n  // toggles collapse between opened and closed (true/false)\n  const toggleCollapse = () => {\n    setCollapseOpen((data) => !data);\n  };\n  // closes the collapse\n  const closeCollapse = () => {\n    setCollapseOpen(false);\n  };\n  // creates the links that appear in the left menu / Sidebar\n  const createLinks = (routes) => {\n    return routes.map((prop, key) => {\n      return (\n        <NavItem key={key}>\n          <NavLink\n            to={prop.layout + prop.path}\n            tag={NavLinkRRD}\n            onClick={closeCollapse}\n            activeClassName=\"active\"\n          >\n            <i className={prop.icon} />\n            {prop.name}\n          </NavLink>\n        </NavItem>\n      );\n    });\n  };\n\n  const { bgColor, routes, logo } = props;\n  let navbarBrandProps;\n  if (logo && logo.innerLink) {\n    navbarBrandProps = {\n      to: logo.innerLink,\n      tag: Link,\n    };\n  } else if (logo && logo.outterLink) {\n    navbarBrandProps = {\n      href: logo.outterLink,\n      target: \"_blank\",\n    };\n  }\n\n\n  const [avatar, setAvatar] = useState();\n  // stores avatar, defaults to placeholder if none exists for current user\n  const userId = localStorage.getItem(\"pk\");\n  const token = localStorage.getItem(\"token\");\n  const username = localStorage.getItem(\"username\");\n\n  useEffect(() => {\n    let isMounted = true;\n    (async () => {\n      // if (!profile.pk || !profile.token) return;\n\n      try {\n        const { data } = await axios.get(\n          `${baseUrl.url}assets/${userId}/?key=avatar`,\n          {\n            headers: {\n              Authorization: `Token ${token}`,\n            },\n          }\n        );\n        setAvatar(data);\n      } catch (e) {\n        console.error(e);\n      }\n    })();\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  const logOut = () => {\n    window.localStorage.removeItem(\"token\");\n    window.localStorage.removeItem(\"pk\");\n    window.localStorage.removeItem(\"username\");\n    props.history.push(\"/auth\");\n  };\n\n  return (\n    <Navbar\n      className=\"navbar-vertical fixed-left navbar-light bg-white\"\n      expand=\"md\"\n      id=\"sidenav-main\"\n    >\n      <Container fluid>\n        {/* Toggler */}\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          onClick={toggleCollapse}\n        >\n          <span className=\"navbar-toggler-icon\" />\n        </button>\n        {/* Brand */}\n        {logo ? (\n          <NavbarBrand className=\"pt-0\" {...navbarBrandProps}>\n            <img\n              alt={logo.imgAlt}\n              className=\"navbar-brand-img\"\n              src={logo.imgSrc}\n              style={{ height: \"200px\", width: \"100px\" }}\n            />\n          </NavbarBrand>\n        ) : null}\n        {/* User */}\n        <Nav className=\"align-items-center d-md-none\">\n          <UncontrolledDropdown nav>\n            <DropdownToggle nav className=\"nav-link-icon\">\n              <i className=\"ni ni-bell-55\" />\n            </DropdownToggle>\n            <DropdownMenu\n              aria-labelledby=\"navbar-default_dropdown_1\"\n              className=\"dropdown-menu-arrow\"\n              right\n            >\n              <DropdownItem>Action</DropdownItem>\n              <DropdownItem>Another action</DropdownItem>\n              <DropdownItem divider />\n              <DropdownItem>Something else here</DropdownItem>\n            </DropdownMenu>\n          </UncontrolledDropdown>\n          <UncontrolledDropdown nav>\n            <DropdownToggle nav>\n              <Media className=\"align-items-center\">\n                <span className=\"avatar avatar-sm rounded-circle\">\n                  <img\n                    alt=\"...\"\n                    src={avatar}\n                    onError={(e) => (e.currentTarget.src = placeholder)}\n                  />\n                </span>\n              </Media>\n            </DropdownToggle>\n            <DropdownMenu className=\"dropdown-menu-arrow\" right>\n              <DropdownItem className=\"noti-title\" header tag=\"div\">\n                <h6 className=\"text-overflow m-0\">Welcome!</h6>\n              </DropdownItem>\n              <DropdownItem divider />\n              <DropdownItem to=\"/admin/user-profile\" tag={Link}>\n                <i className=\"ni ni-single-02\" />\n                <span>My Profile</span>\n              </DropdownItem>\n              <DropdownItem to=\"/admin/documents\" tag={Link}>\n                <i className=\"ni ni-single-02\" />\n                <span>Documents</span>\n              </DropdownItem>\n              <DropdownItem to=\"/admin/results\" tag={Link}>\n                <i className=\"ni ni-single-02\" />\n                <span>Test Results</span>\n              </DropdownItem>\n              <DropdownItem href=\"#pablo\" onClick={() => logOut()}>\n                <i className=\"ni ni-user-run\" />\n                <span>Logout</span>\n              </DropdownItem>\n            </DropdownMenu>\n          </UncontrolledDropdown>\n        </Nav>\n        {/* Collapse */}\n        <Collapse navbar isOpen={collapseOpen}>\n          {/* Collapse header */}\n          <div className=\"navbar-collapse-header d-md-none\">\n            <Row>\n              {logo ? (\n                <Col className=\"collapse-brand\" xs=\"6\">\n                  {logo.innerLink ? (\n                    <Link to={logo.innerLink}>\n                      <img alt={logo.imgAlt} src={logo.imgSrc} />\n                    </Link>\n                  ) : (\n                    <a href={logo.outterLink}>\n                      <img alt={logo.imgAlt} src={logo.imgSrc} />\n                    </a>\n                  )}\n                </Col>\n              ) : null}\n              <Col className=\"collapse-close\" xs=\"6\">\n                <button\n                  className=\"navbar-toggler\"\n                  type=\"button\"\n                  onClick={toggleCollapse}\n                >\n                  <span />\n                  <span />\n                </button>\n              </Col>\n            </Row>\n          </div>\n          {/* Form */}\n          <Form className=\"mt-4 mb-3 d-md-none\">\n            <InputGroup className=\"input-group-rounded input-group-merge\">\n              <Input\n                aria-label=\"Search\"\n                className=\"form-control-rounded form-control-prepended\"\n                placeholder=\"Search\"\n                type=\"search\"\n              />\n              <InputGroupAddon addonType=\"prepend\">\n                <InputGroupText>\n                  <span className=\"fa fa-search\" />\n                </InputGroupText>\n              </InputGroupAddon>\n            </InputGroup>\n          </Form>\n          {/* Navigation */}\n          <Nav navbar>{createLinks(routes)}</Nav>\n          {/* Divider */}\n          <hr className=\"my-3\" />\n          {/* Heading */}\n        </Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nSidebar.defaultProps = {\n  routes: [{}],\n};\n\nSidebar.propTypes = {\n  // links that will be displayed inside the component\n  routes: PropTypes.arrayOf(PropTypes.object),\n  logo: PropTypes.shape({\n    // innerLink is for links that will direct the user within the app\n    // it will be rendered as <Link to=\"...\">...</Link> tag\n    innerLink: PropTypes.string,\n    // outterLink is for links that will direct the user outside the app\n    // it will be rendered as simple <a href=\"...\">...</a> tag\n    outterLink: PropTypes.string,\n    // the image src of the logo\n    imgSrc: PropTypes.string.isRequired,\n    // the alt for the img\n    imgAlt: PropTypes.string.isRequired,\n  }),\n};\n\nexport default Sidebar;\n"]},"metadata":{},"sourceType":"module"}